function initializeScrollAnimations(){const e=document.querySelectorAll(".fade-in-up"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>t.observe(e))}function initializeBanner(){const e=document.querySelector(".banner-prev"),t=document.querySelector(".banner-next");e&&t&&(e.addEventListener("click",()=>changeSlide(-1)),t.addEventListener("click",()=>changeSlide(1))),setInterval(()=>{changeSlide(1)},5e3),indicators.forEach((e,t)=>{e.addEventListener("click",()=>goToSlide(t))})}function changeSlide(e){slides[currentSlide].classList.remove("active"),indicators[currentSlide].classList.remove("active"),currentSlide+=e,currentSlide>=slides.length?currentSlide=0:currentSlide<0&&(currentSlide=slides.length-1),slides[currentSlide].classList.add("active"),indicators[currentSlide].classList.add("active")}function goToSlide(e){slides[currentSlide].classList.remove("active"),indicators[currentSlide].classList.remove("active"),currentSlide=e,slides[currentSlide].classList.add("active"),indicators[currentSlide].classList.add("active")}function initializeProductSliders(){const e=document.querySelectorAll(".products-slider");e.forEach(e=>{const t=e.parentElement.querySelector(".slider-prev"),n=e.parentElement.querySelector(".slider-next");t&&n&&(t.addEventListener("click",()=>scrollSlider(e,-1)),n.addEventListener("click",()=>scrollSlider(e,1))),e.addEventListener("wheel",t=>{t.preventDefault(),e.scrollLeft+=t.deltaY})})}function scrollSlider(e,t){const n=e.querySelector(".product-card").offsetWidth+24,i=2*n;e.scrollBy({left:t*i,behavior:"smooth"})}function initializeMobileMenu(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-menu");e&&t&&(e.addEventListener("click",()=>{t.classList.toggle("active");const n=e.querySelector("i");t.classList.contains("active")?(n.classList.remove("fa-bars"),n.classList.add("fa-times")):(n.classList.remove("fa-times"),n.classList.add("fa-bars"))}),window.addEventListener("load",()=>{document.body.classList.add("fade-out"),setTimeout(()=>{const e=document.getElementById("loader");e&&(e.style.display="none")},500)}),document.addEventListener("click",n=>{if(!e.contains(n.target)&&!t.contains(n.target)){t.classList.remove("active");const n=e.querySelector("i");n.classList.remove("fa-times"),n.classList.add("fa-bars")}}))}function initializeDropdowns(){const e=document.querySelectorAll(".dropdown");e.forEach(e=>{const t=e.querySelector(".dropdown-toggle"),n=e.querySelector(".dropdown-menu");t&&n&&window.innerWidth<=768&&t.addEventListener("click",e=>{e.preventDefault(),n.style.display="block"===n.style.display?"none":"block"})})}function initializeCart(){const e=document.querySelectorAll(".add-to-cart");document.querySelector(".cart-count");e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),addToCart(),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform="scale(1)"},150),showNotification("Producto añadido al carrito","success")})});const t=document.querySelectorAll(".notify-btn");t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),showNotification("Te notificaremos cuando esté disponible","info"),e.textContent="Notificado ✓",e.disabled=!0,e.style.backgroundColor="#4CAF50"})})}function addToCart(){cartCount++;const e=document.querySelector(".cart-count");e&&(e.textContent=cartCount,e.style.transform="scale(1.3)",setTimeout(()=>{e.style.transform="scale(1)"},200))}function initializeSearch(){const e=document.querySelector(".search-bar input"),t=document.querySelector(".search-bar button");e&&t&&(t.addEventListener("click",t=>{t.preventDefault(),performSearch(e.value)}),e.addEventListener("keypress",t=>{"Enter"===t.key&&(t.preventDefault(),performSearch(e.value))}),e.addEventListener("input",e=>{const t=e.target.value.toLowerCase();t.length>2&&console.log("Buscando:",t)}))}function performSearch(e){e.trim()&&(showNotification(`Buscando: "${e}"`,"info"),console.log("Realizando búsqueda:",e))}function showNotification(e,t="info"){const n=document.createElement("div");n.className=`notification notification-${t}`,n.innerHTML=`\n        <div class="notification-content">\n            <span class="notification-message">${e}</span>\n            <button class="notification-close">&times;</button>\n        </div>\n    `,n.style.cssText=`\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: ${"success"===t?"#4CAF50":"error"===t?"#F44336":"#2196F3"};\n        color: white;\n        padding: 16px 20px;\n        border-radius: 8px;\n        box-shadow: 0 4px 20px rgba(0,0,0,0.15);\n        z-index: 10000;\n        transform: translateX(100%);\n        transition: transform 0.3s ease;\n        max-width: 300px;\n    `,document.body.appendChild(n),setTimeout(()=>{n.style.transform="translateX(0)"},100);const i=n.querySelector(".notification-close");i.addEventListener("click",()=>{removeNotification(n)}),setTimeout(()=>{removeNotification(n)},3e3)}function removeNotification(e){e.style.transform="translateX(100%)",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}function initializeLazyLoading(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver((e,n)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}function debounce(e,t){let n;return function(...i){const o=()=>{clearTimeout(n),e(...i)};clearTimeout(n),n=setTimeout(o,t)}}let currentSlide=0,cartCount=0;const slides=document.querySelectorAll(".banner-slide"),indicators=document.querySelectorAll(".indicator");document.addEventListener("DOMContentLoaded",function(){initializeBanner(),initializeProductSliders(),initializeMobileMenu(),initializeDropdowns(),initializeCart(),initializeSearch()}),document.addEventListener("DOMContentLoaded",()=>{initializeScrollAnimations()}),window.addEventListener("scroll",()=>{const e=document.querySelector(".main-header");window.scrollY>100?e.style.boxShadow="0 4px 20px rgba(0,0,0,0.1)":e.style.boxShadow="0 2px 10px rgba(0,0,0,0.1)"}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("error",function(){this.src="https://via.placeholder.com/300x200/4CAF50/FFFFFF?text=EcoVerde"})});const optimizedScroll=debounce(()=>{},16);window.addEventListener("scroll",optimizedScroll),window.addEventListener("resize",debounce(()=>{initializeDropdowns()},250)),console.log("EcoVerde - Sitio web cargado correctamente");